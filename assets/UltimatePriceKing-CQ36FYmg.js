import{_ as gt,g as je,T as mt,a as xt,S as ht,I as pt,b as ft}from"./index-GRX_W2kI.js";import{u as bt,r as a,j as e,d as qe}from"./react-vendor-DmEpS5Kz.js";import{l as Ce,g as Re,b as vt}from"./services-data-Bkm-MtE8.js";import{g as yt}from"./internalUrl-DfDVcRif.js";import{a as wt}from"./axios-B9ygI19o.js";import{t as jt}from"./tw-job-abbr-xwaoke-z.js";import"./vendor-dPMYpV4t.js";import"./opencc-C1Qz6KEM.js";import"./teamcraft-data-u2h6--oi.js";function Rt({addToast:d,removeToast:De,toasts:Ee,datacenters:Le,worlds:ce,selectedWorld:b,onWorldChange:Ve,selectedServerOption:y,onServerOptionChange:_e,serverOptions:Ae,onSearch:Be,searchText:Te,setSearchText:G,isSearching:Ue,isServerDataLoaded:Je,onItemSelect:ze,onTaxRatesClick:Qe,isTaxRatesModalOpen:He,setIsTaxRatesModalOpen:Ke,taxRates:Xe,isLoadingTaxRates:Fe}){const de=bt(),[x,Ge]=a.useState(1),[g,Ye]=a.useState(11),[Ze,ue]=a.useState("1"),[We,ge]=a.useState("11"),[u,Oe]=a.useState([]),R=a.useRef(null),[h,Y]=a.useState([]),[M,w]=a.useState(!1),[et,me]=a.useState({}),[tt,xe]=a.useState({}),[st,he]=a.useState({}),[lt,pe]=a.useState({}),[rt,Z]=a.useState({}),[W,O]=a.useState(!1),[nt,at]=a.useState(null),[N,ee]=a.useState(null),[i,te]=a.useState(1),[I,Ne]=a.useState(50),D=500,[it,J]=a.useState(!1),E=a.useRef(null),se=a.useRef(null),Pe=a.useCallback(async()=>{if(se.current)return se.current;const t=await gt(()=>import("./ilvls-Bj6OKdVo.js"),[]);return se.current=t.default,se.current},[]);a.useEffect(()=>{je().then(t=>{at(t)})},[]);const $=a.useCallback(t=>t===0?10:t===1?50:t===2?30:t===3?20:10,[]),z=a.useMemo(()=>{const t=$(u.length),s=g-x;return s>=0&&s<=t+1&&x>=1&&g<=999},[x,g,u.length,$]),Q=a.useMemo(()=>{const t=$(u.length);if(g-x<=t+1)return{suggestedMin:x,suggestedMax:g};const r=g-t-1;return r>=1?{suggestedMin:r,suggestedMax:g}:{suggestedMin:1,suggestedMax:1+t+1}},[x,g,u.length,$]),Ie=a.useCallback((t,s)=>{if(s===""||/^\d*$/.test(s)){if(t==="min"?ue(s):ge(s),R.current&&clearTimeout(R.current),s==="")return;const r=parseInt(s,10);if(!isNaN(r)&&r>=1&&r<=999){let c=t==="min"?r:x,o=t==="max"?r:g;t==="min"?c>=o&&(o=Math.min(c+10,999),ge(o.toString())):o<c&&(c=Math.max(o-10,1),ue(c.toString())),R.current=setTimeout(()=>{Ge(c),Ye(o)},300)}else R.current=setTimeout(()=>{t==="min"?ue(x.toString()):ge(g.toString())},500)}},[x,g]);a.useEffect(()=>()=>{R.current&&clearTimeout(R.current)},[]);const ot=a.useCallback(t=>{const s=parseInt(t,10);Oe(r=>r.includes(s)?r.filter(c=>c!==s):r.length>=4?(Promise.resolve().then(()=>{d("æœ€å¤šåªèƒ½é¸æ“‡4å€‹è·æ¥­","warning")}),r):[...r,s])},[d]),fe=a.useCallback(async(t,s=!1)=>{if(!b||!y)return d("è«‹é¸æ“‡ä¼ºæœå™¨","warning"),null;const r=s?t.slice(0,D):t;s&&t.length>D&&d(`å·²é™åˆ¶ç‚ºå‰ ${r.length} å€‹ç‰©å“ï¼Œæ­£åœ¨ç²å–å¸‚å ´æ•¸æ“š...`,"warning"),O(!0);const c=y===b.section,o=c?b.section:y,q=async(m,S)=>{let l;m===0?l=20:m===1?l=50:l=100;const p=r.slice(S,S+l);if(p.length===0)return;const v=p.join(",");try{const V=(await wt.get(`https://universalis.app/api/v2/aggregated/${encodeURIComponent(o)}/${v}`)).data,_={},Se={},Me={},$e={},ne={};V&&V.results&&V.results.forEach(n=>{const H=n.itemId,ae=(K,X,C)=>{const oe=K?.world?.[C],B=X?.world?.[C],F=K?.dc?.[C],T=X?.dc?.[C],P=oe!==void 0?oe:F,U=B!==void 0?B:T;if(C==="quantity"){if(P!==void 0||U!==void 0)return(P||0)+(U||0)}else{if(P!==void 0&&U!==void 0)return Math.min(P,U);if(U!==void 0)return U;if(P!==void 0)return P}return null},ve=ae(n.nq?.dailySaleVelocity,n.hq?.dailySaleVelocity,"quantity"),ye=ae(n.nq?.averageSalePrice,n.hq?.averageSalePrice,"price"),we=ae(n.nq?.minListing,n.hq?.minListing,"price"),ie=ae(n.nq?.recentPurchase,n.hq?.recentPurchase,"price");let A=null;if(ie!=null)if(c)A=ie;else{const K=n.nq?.recentPurchase?.world?.price,X=n.hq?.recentPurchase?.world?.price,C=n.nq?.recentPurchase?.dc?.price,oe=n.hq?.recentPurchase?.dc?.price,B=K!==void 0?K:C,F=X!==void 0?X:oe;let T=null;B!==void 0&&F!==void 0?T=F<=B?n.hq?.recentPurchase?.world||n.hq?.recentPurchase?.dc:n.nq?.recentPurchase?.world||n.nq?.recentPurchase?.dc:F!==void 0?T=n.hq?.recentPurchase?.world||n.hq?.recentPurchase?.dc:B!==void 0&&(T=n.nq?.recentPurchase?.world||n.nq?.recentPurchase?.dc);const P=T?.region;A={price:ie},P!==void 0&&(A.region=P)}ve!=null&&(_[H]=ve),ye!=null&&(Se[H]=Math.round(ye)),we!=null&&(Me[H]=we),A!=null&&($e[H]=A),ne[H]=!0}),p.forEach(n=>{ne.hasOwnProperty(n)||(ne[n]=!1)}),qe.flushSync(()=>{me(n=>({...n,..._})),xe(n=>({...n,...Se})),he(n=>({...n,...Me})),pe(n=>({...n,...$e})),Z(n=>({...n,...ne}))}),m===0&&O(!1)}catch(j){console.error("Error fetching market data:",j);const V={};p.forEach(_=>{V[_]=!1}),qe.flushSync(()=>{Z(_=>({..._,...V}))})}},L=async(m,S)=>{if(S>=r.length)return;let l;m===0?l=20:m===1?l=50:l=100,await q(m,S);const p=S+l;p<r.length&&await new Promise(v=>{setTimeout(()=>{L(m+1,p).then(v)},m===0?0:100)})};return await L(0,0),{velocities:{},averagePrices:{},minListings:{},recentPurchases:{},tradability:{}}},[b,y,d]),ct=a.useCallback(async()=>{if(!M){if(!z){d(`ç¯„åœéŽå¤§ï¼æœ€å¤šåªèƒ½æœç´¢ ${$(u.length)} å€‹ç­‰ç´šç¯„åœ`,"error");return}w(!0),Y([]),me({}),xe({}),he({}),pe({}),Z({}),te(1);try{const{recipes:t}=await Ce();let s=t;u.length>0&&(s=s.filter(l=>u.includes(l.job))),s=s.filter(l=>l.lvl>=x&&l.lvl<=g);const r=[...new Set(s.map(l=>l.result))];if(r.length===0){d("æœªæ‰¾åˆ°ç¬¦åˆæ¢ä»¶çš„é…æ–¹","warning"),w(!1);return}d(`æ‰¾åˆ° ${r.length} å€‹ç‰©å“ï¼Œæ­£åœ¨éŽæ¿¾å¯äº¤æ˜“ç‰©å“...`,"info");const c=await je();let o=r.filter(l=>c.has(l));if(o.length===0){d("æ²’æœ‰å¯äº¤æ˜“çš„ç‰©å“","warning"),w(!1);return}const q=await Pe();if(o=o.sort((l,p)=>{const v=q[l?.toString()]||null,j=q[p?.toString()]||null;return v!==null&&j!==null?j-v:v!==null?-1:j!==null?1:p-l}),o.length>D){ee({total:o.length,limit:D}),w(!1);return}ee(null),d(`æ‰¾åˆ° ${o.length} å€‹å¯äº¤æ˜“ç‰©å“ï¼Œæ­£åœ¨ç²å–å¸‚å ´æ•¸æ“š...`,"info");const L=o.map(l=>Re(l)),m=(await Promise.all(L)).filter(l=>l!==null);if(m.length===0){d("ç„¡æ³•ç²å–ç‰©å“ä¿¡æ¯","error"),w(!1);return}if(Y(m),!await fe(o,!1)){w(!1);return}d(`æœç´¢å®Œæˆï¼æ‰¾åˆ° ${m.length} å€‹å¯äº¤æ˜“ç‰©å“`,"success")}catch(t){console.error("Search error:",t),d("æœç´¢å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦","error"),O(!1)}finally{w(!1)}}},[x,g,u,M,z,$,d,fe]),dt={8:"carpenter",9:"blacksmith",10:"armorer",11:"goldsmith",12:"leatherworker",13:"weaver",14:"alchemist",15:"culinarian"},ut=Object.entries(jt).filter(([t])=>{const s=parseInt(t,10);return s>=8&&s<=15}).map(([t,s])=>{const r=parseInt(t,10),c=dt[r];return{id:r,name:s.tw,iconUrl:c?`https://xivapi.com/cj/companion/${c}.png`:null}}),le=$(u.length),re=a.useMemo(()=>{if(M)return{disabled:!0,text:"æœç´¢ä¸­...",tooltip:null};if(N!==null)return{disabled:!0,text:`æœç´¢ï¼ˆæ‰¾åˆ° ${N.total} å€‹ç‰©å“ï¼Œè¶…éŽä¸Šé™ ${N.limit}ï¼‰`,tooltip:`æ‰¾åˆ° ${N.total} å€‹å¯äº¤æ˜“ç‰©å“ï¼Œè¶…éŽå»ºè­°ä¸Šé™ ${N.limit} å€‹ã€‚è«‹ç¸®å°ç­‰ç´šç¯„åœæˆ–é¸æ“‡æ›´å°‘çš„è·æ¥­ã€‚`};if(!z){const t=g-x;return{disabled:!0,text:`æœç´¢ï¼ˆç¯„åœéŽå¤§ï¼š${t} å€‹ç­‰ç´šï¼Œæœ€å¤š ${le}ï¼‰`,tooltip:`ç•¶å‰ç¯„åœç‚º ${t} å€‹ç­‰ç´šï¼Œè¶…éŽæœ€å¤§å…è¨±ç¯„åœ ${le} å€‹ç­‰ç´šã€‚å»ºè­°èª¿æ•´ç‚º ${Q.suggestedMin}-${Q.suggestedMax}ã€‚`}}return u.length===0?{disabled:!0,text:"æœç´¢ï¼ˆè«‹å…ˆé¸æ“‡è‡³å°‘ä¸€å€‹è·æ¥­ï¼‰",tooltip:"è«‹è‡³å°‘é¸æ“‡ä¸€å€‹è£½é€ è·æ¥­æ‰èƒ½é€²è¡Œæœç´¢ã€‚"}:{disabled:!1,text:"æœç´¢",tooltip:null}},[M,N,z,x,g,le,Q,u.length]);a.useEffect(()=>{if((M||W)&&h.length>=50)E.current||(E.current=Date.now()),J(!0);else if(E.current){const s=Date.now()-E.current,r=Math.max(0,1e3-s);if(r>0){const c=setTimeout(()=>{J(!1),E.current=null},r);return()=>clearTimeout(c)}else J(!1),E.current=null}else J(!1)},[M,W,h.length]);const f=Math.ceil(h.length/I),be=(i-1)*I,ke=be+I,k=a.useCallback(t=>{te(t),window.scrollTo({top:0,behavior:"smooth"})},[]);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 via-purple-950/30 to-slate-950 text-white",children:[e.jsx(mt,{onSearch:Be,isSearching:Ue,searchText:Te,setSearchText:G,isServerDataLoaded:Je,selectedDcName:b?.section,onItemSelect:ze,showNavigationButtons:!0,activePage:"ultimate-price-king",onTaxRatesClick:Qe,onUltimatePriceKingClick:()=>{G(""),de("/ultimate-price-king")},onMSQPriceCheckerClick:()=>{G(""),de("/msq-price-checker")},onAdvancedSearchClick:()=>{G(""),de("/advanced-search")}}),e.jsx("div",{className:"fixed right-2 mid:right-4 left-2 mid:left-auto z-50 space-y-2 max-w-sm mid:max-w-none top-[60px] mid:top-4",children:Ee.map(t=>e.jsx(xt,{message:t.message,type:t.type,onClose:()=>De(t.id)},t.id))}),e.jsx("div",{className:"pt-24 pb-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-ffxiv-gold mb-2",children:"è£½é€ è·æ‰¾åƒ¹"}),e.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:"ç”¨ä¾†æ ¹æ“šè£½ä½œè·æ¥­æŸ¥æ‰¾ç‰©åƒ¹è‚¥ç¾Žçš„ç‰©å“ï¼ŒæŽŒæŽ§å¸‚å ´é›·é›»ã€‚"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/60 via-purple-900/20 to-slate-800/60 backdrop-blur-sm rounded-lg border border-purple-500/20 p-4 sm:p-6 mb-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-ffxiv-gold mb-2",children:"ç‰©å“ç­‰ç´šç¯„åœ (1-999)"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"æœ€å°ç­‰ç´š"}),e.jsx("input",{type:"text",inputMode:"numeric",value:Ze,onChange:t=>Ie("min",t.target.value),className:"w-full px-3 py-2 bg-slate-900/50 border border-purple-500/30 rounded-lg text-white focus:outline-none focus:border-ffxiv-gold"})]}),e.jsx("div",{className:"pt-6 text-gray-400",children:"-"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"æœ€å¤§ç­‰ç´š"}),e.jsx("input",{type:"text",inputMode:"numeric",value:We,onChange:t=>Ie("max",t.target.value),className:"w-full px-3 py-2 bg-slate-900/50 border border-purple-500/30 rounded-lg text-white focus:outline-none focus:border-ffxiv-gold"})]})]}),e.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:["ç•¶å‰ç¯„åœ: ",g-x+1," å€‹ç­‰ç´š",u.length>0&&e.jsxs("span",{className:"ml-2 text-ffxiv-gold",children:["(å·²é¸æ“‡ ",u.length," å€‹è·æ¥­ï¼Œæœ€å¤§ç¯„åœ: ",le,")"]})]}),!z&&e.jsxs("div",{className:"mt-2 text-xs text-yellow-400",children:["ç¯„åœéŽå¤§ï¼å»ºè­°èª¿æ•´ç‚º: ",Q.suggestedMin,"-",Q.suggestedMax]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-ffxiv-gold mb-2",children:"è·æ¥­é¸æ“‡ (æœ€å¤š4å€‹)"}),e.jsx("div",{className:"flex flex-wrap gap-2 max-h-48 overflow-y-auto p-2 bg-slate-900/30 rounded-lg border border-purple-500/20",children:ut.map(t=>{const s=u.includes(t.id);return e.jsxs("button",{onClick:()=>ot(t.id),className:`px-3.5 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all flex items-center gap-1.5 ${s?"bg-ffxiv-gold text-slate-900 border-2 border-ffxiv-gold":"bg-slate-800/50 text-gray-300 border border-purple-500/30 hover:bg-purple-800/40 hover:border-purple-400/50"}`,children:[t.iconUrl?e.jsx("img",{src:t.iconUrl,alt:t.name,className:"w-6 h-6 object-contain",onError:r=>{if(r.target.style.display="none",!r.target.nextSibling){const c=document.createTextNode("âš™ï¸");r.target.parentNode.insertBefore(c,r.target.nextSibling)}}}):e.jsx("span",{className:"text-lg",children:"âš™ï¸"}),e.jsx("span",{children:t.name})]},t.id)})}),e.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:["å·²é¸æ“‡: ",u.length,"/4",u.length===0&&e.jsx("span",{className:"ml-2 text-yellow-400",children:"æœªé¸æ“‡è·æ¥­æ™‚ï¼Œç¯„åœé™åˆ¶ç‚º10å€‹ç­‰ç´š"})]})]}),b&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-ffxiv-gold mb-2",children:"ä¼ºæœå™¨é¸æ“‡"}),e.jsx(ht,{datacenters:Le,worlds:ce,selectedWorld:b,onWorldChange:Ve,selectedServerOption:y,onServerOptionChange:_e,serverOptions:Ae})]}),N&&e.jsx("div",{className:"mb-4 p-4 bg-yellow-900/40 border-2 border-yellow-500/50 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"text-2xl",children:"âš ï¸"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-yellow-400 font-semibold mb-2",children:"æ‰¾åˆ°çš„ç‰©å“éŽå¤š"}),e.jsxs("p",{className:"text-sm text-gray-300 mb-3",children:["æ‰¾åˆ° ",e.jsx("span",{className:"text-yellow-400 font-bold",children:N.total})," å€‹å¯äº¤æ˜“ç‰©å“ï¼Œ è¶…éŽå»ºè­°ä¸Šé™ ",e.jsx("span",{className:"text-yellow-400 font-bold",children:N.limit})," å€‹ã€‚ è™•ç†éŽå¤šç‰©å“å¯èƒ½æœƒå°Žè‡´æœç´¢æ™‚é–“éŽé•·æˆ–æ€§èƒ½å•é¡Œã€‚"]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs("button",{onClick:async()=>{ee(null),w(!0),Y([]),me({}),xe({}),he({}),pe({}),Z({});try{const{recipes:t}=await Ce();let s=t;u.length>0&&(s=s.filter(l=>u.includes(l.job))),s=s.filter(l=>l.lvl>=x&&l.lvl<=g);const r=[...new Set(s.map(l=>l.result))],c=await je();let o=r.filter(l=>c.has(l));const q=await Pe();o=o.sort((l,p)=>{const v=q[l?.toString()]||null,j=q[p?.toString()]||null;return v!==null&&j!==null?j-v:v!==null?-1:j!==null?1:p-l}),o=o.slice(0,D);const L=o.map(l=>Re(l)),m=(await Promise.all(L)).filter(l=>l!==null);if(Y(m),!await fe(o,!0)){w(!1);return}d(`æœç´¢å®Œæˆï¼æ‰¾åˆ° ${m.length} å€‹å¯äº¤æ˜“ç‰©å“ï¼ˆå·²é™åˆ¶ï¼‰`,"success")}catch(t){console.error("Search error:",t),d("æœç´¢å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦","error"),O(!1)}finally{w(!1)}},className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-white rounded-lg font-semibold text-sm transition-colors",children:["ç¹¼çºŒæœç´¢ï¼ˆé™åˆ¶ç‚ºå‰ ",D," å€‹ï¼‰"]}),e.jsx("button",{onClick:()=>{ee(null),d("å·²å–æ¶ˆæœç´¢","info")},className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-semibold text-sm transition-colors",children:"å–æ¶ˆ"})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-3",children:"ðŸ’¡ æç¤ºï¼šå˜—è©¦ç¸®å°ç­‰ç´šç¯„åœæˆ–é¸æ“‡æ›´å°‘çš„è·æ¥­ä¾†æ¸›å°‘çµæžœæ•¸é‡"})]})]})}),e.jsx("button",{onClick:ct,disabled:re.disabled,title:re.tooltip||void 0,className:`w-full py-3 rounded-lg font-semibold transition-all ${re.disabled?"bg-slate-700/50 text-gray-500 cursor-not-allowed opacity-50":"bg-gradient-to-r from-ffxiv-gold to-yellow-500 text-slate-900 hover:shadow-[0_0_20px_rgba(212,175,55,0.5)]"}`,children:re.text})]}),(h.length>0||M||W)&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 flex-wrap",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-ffxiv-gold",children:["æœç´¢çµæžœ (",h.length>0?h.length:0," å€‹ç‰©å“)"]}),b&&y&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-purple-900/40 via-pink-900/30 to-indigo-900/40 border border-purple-500/30 rounded-lg backdrop-blur-sm",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-ffxiv-gold animate-pulse"}),e.jsx("span",{className:"text-xs sm:text-sm font-semibold text-ffxiv-gold",children:y===b.section?`${b.section} (å…¨æœ)`:ce[y]||`ä¼ºæœå™¨ ${y}`})]}),it&&e.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-slate-800/50 border border-purple-500/30 rounded-lg",children:[e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-ffxiv-gold"}),e.jsx("span",{className:"text-xs text-gray-300",children:"è¼‰å…¥ä¸­..."})]})]}),h.length>I&&e.jsxs("div",{className:"mb-4 flex items-center justify-between flex-wrap gap-3 bg-gradient-to-br from-slate-800/60 via-purple-900/20 to-slate-800/60 backdrop-blur-sm rounded-lg border border-purple-500/20 p-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-300",children:"æ¯é é¡¯ç¤º:"}),e.jsxs("select",{value:I,onChange:t=>{const s=parseInt(t.target.value,10);Ne(s),te(1)},className:"px-3 py-1.5 bg-slate-900/50 border border-purple-500/30 rounded-lg text-white text-sm focus:outline-none focus:border-ffxiv-gold",children:[e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"}),e.jsx("option",{value:200,children:"200"})]}),e.jsxs("span",{className:"text-sm text-gray-400",children:["é¡¯ç¤º ",be+1,"-",Math.min(ke,h.length)," / ",h.length]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>k(1),disabled:i===1,className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${i===1?"bg-slate-700/50 text-gray-500 cursor-not-allowed opacity-50":"bg-slate-800/50 text-white hover:bg-purple-800/40 border border-purple-500/30"}`,children:"é¦–é "}),e.jsx("button",{onClick:()=>k(i-1),disabled:i===1,className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${i===1?"bg-slate-700/50 text-gray-500 cursor-not-allowed opacity-50":"bg-slate-800/50 text-white hover:bg-purple-800/40 border border-purple-500/30"}`,children:"ä¸Šä¸€é "}),e.jsxs("span",{className:"px-3 py-1.5 text-sm text-gray-300",children:["ç¬¬ ",i," / ",f," é "]}),e.jsx("button",{onClick:()=>k(i+1),disabled:i===f,className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${i===f?"bg-slate-700/50 text-gray-500 cursor-not-allowed opacity-50":"bg-slate-800/50 text-white hover:bg-purple-800/40 border border-purple-500/30"}`,children:"ä¸‹ä¸€é "}),e.jsx("button",{onClick:()=>k(f),disabled:i===f,className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${i===f?"bg-slate-700/50 text-gray-500 cursor-not-allowed opacity-50":"bg-slate-800/50 text-white hover:bg-purple-800/40 border border-purple-500/30"}`,children:"æœ«é "})]})]}),h.length>0&&e.jsx(pt,{items:h,onSelect:t=>{window.open(`${window.location.origin}${yt(`/item/${t.id}`)}`,"_blank","noopener,noreferrer")},selectedItem:null,marketableItems:nt,itemVelocities:et,itemAveragePrices:tt,itemMinListings:st,itemRecentPurchases:lt,itemTradability:rt,isLoadingVelocities:W,averagePriceHeader:"å¹³å‡åƒ¹æ ¼",getSimplifiedChineseName:vt,addToast:d,currentPage:i,itemsPerPage:I}),h.length>I&&e.jsxs("div",{className:"mt-4 flex items-center justify-between flex-wrap gap-3 bg-gradient-to-br from-slate-800/60 via-purple-900/20 to-slate-800/60 backdrop-blur-sm rounded-lg border border-purple-500/20 p-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-300",children:"æ¯é é¡¯ç¤º:"}),e.jsxs("select",{value:I,onChange:t=>{const s=parseInt(t.target.value,10);Ne(s),te(1)},className:"px-3 py-1.5 bg-slate-900/50 border border-purple-500/30 rounded-lg text-white text-sm focus:outline-none focus:border-ffxiv-gold",children:[e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"}),e.jsx("option",{value:200,children:"200"})]}),e.jsxs("span",{className:"text-sm text-gray-400",children:["é¡¯ç¤º ",be+1,"-",Math.min(ke,h.length)," / ",h.length]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>k(1),disabled:i===1,className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${i===1?"bg-slate-700/50 text-gray-500 cursor-not-allowed opacity-50":"bg-slate-800/50 text-white hover:bg-purple-800/40 border border-purple-500/30"}`,children:"é¦–é "}),e.jsx("button",{onClick:()=>k(i-1),disabled:i===1,className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${i===1?"bg-slate-700/50 text-gray-500 cursor-not-allowed opacity-50":"bg-slate-800/50 text-white hover:bg-purple-800/40 border border-purple-500/30"}`,children:"ä¸Šä¸€é "}),e.jsxs("span",{className:"px-3 py-1.5 text-sm text-gray-300",children:["ç¬¬ ",i," / ",f," é "]}),e.jsx("button",{onClick:()=>k(i+1),disabled:i===f,className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${i===f?"bg-slate-700/50 text-gray-500 cursor-not-allowed opacity-50":"bg-slate-800/50 text-white hover:bg-purple-800/40 border border-purple-500/30"}`,children:"ä¸‹ä¸€é "}),e.jsx("button",{onClick:()=>k(f),disabled:i===f,className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${i===f?"bg-slate-700/50 text-gray-500 cursor-not-allowed opacity-50":"bg-slate-800/50 text-white hover:bg-purple-800/40 border border-purple-500/30"}`,children:"æœ«é "})]})]})]})]})}),e.jsx(ft,{isOpen:He,onClose:()=>Ke(!1),taxRates:Xe,worlds:ce,isLoading:Fe,selectedWorld:b,selectedServerOption:y})]})}export{Rt as default};
